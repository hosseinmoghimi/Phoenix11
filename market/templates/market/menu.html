{% extends "market/layout.html" %} {% load static %} {% block content %}

<div class="text-center">
  <h1 class="text-center">
  {{menu.title}}
  </h1>
</div> 
<div class="row rtl farsi">
  <div class="col-md-12" id="menu-app"> 
        <div class="media" v-for="shop in shops">
          <img :src="shop.product.thumbnail" width="128" alt="" />
          <div class="media-body mr-2">
            <h6 class="text-right">
              <span v-text="shop.product.title"></span>
            </h6>

            <h6 class="text-right">
              هر
              <span v-text="shop.unit_name"></span>
           
              <span v-text="to_price(shop.unit_price)"></span> {{CURRENCY}}
            </h6>

            <button class="btn btn-danger" @click="add_to_cart(shop)">
                افزودن به سبد خرید
            </button>
          </div>
        </div>
       
  </div>
</div>
{% endblock content %} {% block script %}
<script>
  let shops_for_menu_app = JSON.parse("{{shops_s|escapejs}}");
  let menu_app = new Vue({
    el: "#menu-app",
    data: {
      shops: shops_for_menu_app,
    },
    methods: {
      to_price: function (vall) {
        return to_price(vall);
      },
      add_to_cart:function(shop){
        console.log(shop)
      },
    },
  });
</script>

{% endblock script %}
