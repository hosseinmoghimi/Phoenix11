<script>
    let financial_document_lines = []

</script>
{% if financial_document_lines_s %}
<script>
    financial_document_lines = JSON.parse("{{financial_document_lines_s|escapejs}}")

</script>
{% endif %}
<script>

    let financial_document_lines_app = new Vue({
        el: "#financial-document-lines-app",
        data: {
            financial_document_lines: financial_document_lines,
            total: { bestankar: 0, bedehkar: 0 }

        },
        mounted: function () {
            this.calc_total()
        },
        methods: {
            to_price: vall => to_price(vall),
            add_financial_document_line: function (financial_document_line) {
                this.financial_document_lines.push(financial_document_line)
                this.calc_total()
            },
            calc_total: function () {
                bestankar = 0
                bedehkar = 0
                this.financial_document_lines.forEach(financial_document_line => {
                    bedehkar += financial_document_line.bedehkar
                    bestankar += financial_document_line.bestankar
                })
                this.total = { bedehkar: bedehkar, bestankar: bestankar }
            },

        },

    })
</script> 